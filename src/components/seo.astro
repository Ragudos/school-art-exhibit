---
import siteData from "@/data/site.json";

export type SeoProps = {
	title?: string;
	description?: string;
	og?: {
		title?: string;
		description?: string;
		image?: {
			url: string;
			width: number;
			height: number;
			alt: string;
			type: string;
		};
	};
};

export type Props = SeoProps;

const locale = Astro.currentLocale;
const props = Astro.props;

const siteDescription =
	siteData.description.translations[
		locale as keyof typeof siteData.description.translations
	] || siteData.description.text;
const siteTitle =
	siteData.title.translations[
		locale as keyof typeof siteData.title.translations
	] || siteData.title.text;
---

<title>{props.title || siteTitle}</title>
<meta name="description" content={props.description || siteDescription} />
<meta
	property="og:title"
	content={props.og?.title || props.title || siteTitle}
/>
<meta
	property="og:description"
	content={props.og?.description || props.description || siteDescription}
/>
<meta property="og:type" content="website" />

{
	props.og?.image && (
		<>
			<meta property="og:image" content={props.og.image.url} />
			<meta
				property="og:image:width"
				content={props.og.image.width.toString()}
			/>
			<meta
				property="og:image:height"
				content={props.og.image.height.toString()}
			/>
			<meta property="og:image:alt" content={props.og.image.alt} />
			<meta property="og:image:type" content={props.og.image.type} />
		</>
	)
}
